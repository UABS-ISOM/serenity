{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ProfilePage),\n  ],\n})\nexport class ProfilePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component, NgZone } from \"@angular/core\";\nimport {\n  IonicPage,\n  NavController,\n  NavParams,\n  AlertController,\n} from \"ionic-angular\";\nimport { UserProvider } from \"../../providers/user/user\";\nimport firebase from \"firebase\";\n/**\n * Generated class for the ProfilePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: \"page-profile\",\n  templateUrl: \"profile.html\",\n})\nexport class ProfilePage {\n  avatar: string;\n  displayName: string;\n  tolerance: number;\n  saturation: number;\n  id: string;\n  uid: string;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public userservice: UserProvider,\n    public zone: NgZone,\n    public alertCtrl: AlertController\n  ) {}\n\n  ionViewWillEnter() {\n    this.loaduserdetails();\n  }\n\n  loaduserdetails() {\n    this.userservice.getuserdetails().then((res: any) => {\n      this.uid = res.uid.substring(0, 7);\n      this.displayName = res.displayName;\n      this.tolerance = res.tolerance;\n      this.saturation = res.tolerance * 100;\n      this.id = res.id;\n      this.zone.run(() => {\n        this.avatar = res.photoURL;\n      });\n    });\n  }\n\n  // Function updated to prevent bugs/crash.\n  editname() {\n    let statusalert = this.alertCtrl.create({\n      buttons: [\"Okay\"],\n    });\n    let alert = this.alertCtrl.create({\n      title: \"Edit Nickname\",\n      inputs: [\n        {\n          name: \"nickname\",\n          placeholder: \"Nickname\",\n        },\n      ],\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          handler: (data) => {},\n        },\n        {\n          text: \"Edit\",\n          handler: (data) => {\n            if (data.nickname) {\n              this.userservice\n                .updatedisplayname(data.nickname)\n                .then((res: any) => {\n                  if (res.success) {\n                    statusalert.setTitle(\"Success!\");\n                    statusalert.setSubTitle(\n                      \"Your nickname has been updated successfully.\"\n                    );\n                    statusalert.present();\n                    this.zone.run(() => {\n                      this.displayName = data.nickname;\n                    });\n                  } else {\n                    statusalert.setTitle(\"Error\");\n                    statusalert.setSubTitle(\"Please try again.\");\n                    statusalert.present();\n                  }\n                });\n            }\n          },\n        },\n      ],\n    });\n    alert.present();\n  }\n\n  editimage() {\n    let statusalert = this.alertCtrl.create({\n      buttons: [\"Okay\"],\n    });\n    let alert = this.alertCtrl.create({\n      title: \"Edit Avatar\",\n      message: `<img src =\"https://firebasestorage.googleapis.com/v0/b/cleanchat-92927.appspot.com/o/female1.png?alt=media&token=ade7a9e5-27d3-4071-a0a5-134e10ae522b\" alt=\"g-maps\" style=\"border-radius: 2px\">`,\n      inputs: [\n        {\n          name: \"radio1\",\n          type: \"radio\",\n          value:\n            \"https://firebasestorage.googleapis.com/v0/b/cleanchat-92927.appspot.com/o/female1.png?alt=media&token=ade7a9e5-27d3-4071-a0a5-134e10ae522b\",\n        },\n      ],\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          handler: (data) => {},\n        },\n        {\n          text: \"Edit\",\n          handler: (data) => {\n            this.userservice.updateimage(data.value).then((res: any) => {\n              if (res.success) {\n                statusalert.setTitle(\"Success!\");\n                statusalert.setSubTitle(\n                  \"Your avatar has been updated successfully.\"\n                );\n                statusalert.present();\n                this.zone.run(() => {\n                  this.avatar = data.value;\n                });\n              } else {\n                statusalert.setTitle(\"Error\");\n                statusalert.setSubTitle(\"Please try again.\");\n                statusalert.present();\n              }\n            });\n          },\n        },\n      ],\n    });\n    alert.present();\n  }\n\n  edittolerance() {\n    let statusalert = this.alertCtrl.create({\n      buttons: [\"Okay\"],\n    });\n    let alert = this.alertCtrl.create({\n      title: \"Edit Tolerance\",\n      inputs: [\n        {\n          name: \"tolerance\",\n          placeholder: \"Tolerance\",\n        },\n      ],\n      buttons: [\n        {\n          text: \"Cancel\",\n          role: \"cancel\",\n          handler: (data) => {},\n        },\n        {\n          text: \"Edit\",\n          handler: (data) => {\n            if (data.tolerance) {\n              this.userservice\n                .updatetolerance(data.tolerance)\n                .then((res: any) => {\n                  if (res.success) {\n                    statusalert.setTitle(\"Success!\");\n                    statusalert.setSubTitle(\n                      \"Your tolerance has been updated successfully.\"\n                    );\n                    statusalert.present();\n                    this.zone.run(() => {\n                      this.tolerance = data.tolerance;\n                    });\n                  } else {\n                    statusalert.setTitle(\"Error\");\n                    statusalert.setSubTitle(\"Please try again.\");\n                    statusalert.present();\n                  }\n                });\n            }\n          },\n        },\n      ],\n    });\n    alert.present();\n  }\n\n  updatetolerance(rangeValue) {\n    let statusalert = this.alertCtrl.create({\n      buttons: [\"Okay\"],\n    });\n    this.userservice\n      .updatetolerance(rangeValue.value / 100)\n      .then((res: any) => {\n        if (res.success) {\n          statusalert.setTitle(\"Success!\");\n          statusalert.setSubTitle(\n            \"Your tolerance has been updated successfully.\"\n          );\n          statusalert.present();\n          this.zone.run(() => {\n            this.tolerance = rangeValue.value / 100;\n            this.saturation = this.tolerance * 100;\n            console.log(this.tolerance);\n          });\n        } else {\n          statusalert.setTitle(\"Error\");\n          statusalert.setSubTitle(\"Please try again.\");\n          statusalert.present();\n        }\n      });\n  }\n\n  logout() {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        this.navCtrl.parent.parent.setRoot(\"LoginPage\");\n      });\n  }\n  addbuddy() {\n    this.navCtrl.push(\"BuddiesPage\");\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}